---
title: "Clean data"
format: html
editor: source
author: authors
---

### Source functions

```{r}
source("../R/99_proj_func.R")
```

### Libraries:

```{r}
#| message: false
library("tidyverse")
```

### Clean

```{r}

feature_data <- vroom::vroom("../data/01_feature_data.tsv.gz", delim = "\t")
pheno_data <- vroom::vroom("../data/01_pheno_data.tsv.gz", delim = "\t")
norm_exprs <- vroom::vroom("../data/01_norm_exprs.tsv.gz", delim = "\t")

```

```{r}

feature_data |> sample_n(5)
pheno_data |> sample_n(5)
norm_exprs |> sample_n(5)

```

### Phenotypic clean file stuff

```{r}
clean_pheno_data <- pheno_data |>
  rename("sample_id" = "geo_accession") |>
  rename("Mother_age_years" = "age..years..ch1","apgar_score" = "apgar.score..5s..ch1", "cord_blood_cotinine_ng_ml" = "cord.blood.cotinine..ng.ml..ch1", "gestational_age_weeks" = "gestational.age..weeks..ch1", "maternal_blood_cotinine_ng_ml" ="maternal.blood.cotinine..ng.ml..ch1", "maternal_bmi" = "maternal.bmi.ch1", "smoking_status" = "smoking.status.ch1","newborn_weight_g"="newborn.weight..g..ch1") |>
  select("sample_id",
         "Mother_age_years",
         "apgar_score",
         "cord_blood_cotinine_ng_ml",
         "gestational_age_weeks",
         "maternal_blood_cotinine_ng_ml",
         "maternal_bmi",
         "smoking_status",
         "newborn_weight_g",
         "sex",
         "description")
```

## Raw phenotype extraction from NCBI (Masha and Oliver)

```{r}

```
